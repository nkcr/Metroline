!function(){this.Metroline=function(){function i(){c.css("top",h*$(window).scrollTop()),e()}function o(i){if(v){var o=i.clientY-f;0!=o&&$(window).scrollTop(u*(m+o))}}function t(i){v=!0,f=i.clientY,m=c.position().top,a.addClass("unselectable")}function n(){v=!1,a.removeClass("unselectable")}function s(){var i=d*$(this).position().top/r+p;g.append('<li style="top: '+i+'px"><a href="#'+$(this).attr("id")+'">'+$(this).data("title")+"</a></li>")}function e(){g.find("li").each(l)}function l(){var i=$(this).position().top,o=h*$(window).scrollTop();o+w>i&&i>o?$(this).addClass("active"):$(this).removeClass("active")}var c=$("#scrollcursor"),a=$("body"),r=Math.max($(document).height(),$(window).height()),d=window.innerHeight,h=d/r,u=r/d,w=h*d,p=w/2;c.css("height",w),$(window).scroll(i);var f,v=!1,m=0;c.mousedown(t),$(window).mousemove(o),$(window).mouseup(n);var g=$("#scrolllinks");$("section").each(s)}}();