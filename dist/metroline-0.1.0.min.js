!function(){this.Metroline=function(){function i(){d=Math.max($(document).height(),$(window).height()),r=window.innerHeight,w=r/d,u=d/r,h=w*r,f=h/2,p=h/3,v.css("height",h)}function o(){v.css("top",w*$(window).scrollTop()),c()}function n(i){if(b){var o=i.clientY-g;0!=o&&$(window).scrollTop(u*(T+o))}}function t(i){b=!0,g=i.clientY,T=v.position().top,m.addClass("unselectable")}function s(){b=!1,m.removeClass("unselectable")}function e(){C.find("li").remove(),$("section").each(l)}function l(){var i=r*$(this).position().top/d+f;C.append('<li style="top: '+i+'px"><a href="#'+$(this).attr("id")+'">'+$(this).data("title")+"</a></li>")}function c(){C.find("li").each(a)}function a(){var i=$(this).position().top,o=w*$(window).scrollTop();o+h>i&&i>o?$(this).addClass("active"):$(this).removeClass("active")}var d,r,w,u,h,f,p,v=$("#scrollcursor"),m=$("body"),C=$("#scrolllinks");i(),e(),$(window).resize(i),$(window).resize(e),$(window).scroll(o);var g,b=!1,T=0;v.mousedown(t),$(window).mousemove(n),$(window).mouseup(s),C.find("li:first").addClass("active")}}();